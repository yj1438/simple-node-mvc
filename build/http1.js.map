{"version":3,"sources":["http1.js"],"names":[],"mappings":";AACA;;AACA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;AAAA,IACI,KAAK,QAAQ,IAAR,CADT;AAAA,IAEI,SAAS,QAAQ,UAAR,CAFb;AAAA,IAGI,SAAS,QAAQ,UAAR,CAHb;;AAKA,IAAI,UAAU,OAAO,WAArB;;AAEA,IAAI,MAAM,MAAM,YAAN,CAAmB,OAAnB,EAA4B,UAAU,GAAV,EAAe,GAAf,EAAoB;AAClD,QAAI,YAAY,EAAhB;AACA;AACA,QAAI,EAAJ,CAAO,MAAP,EAAe,UAAU,KAAV,EAAiB;AAC5B,qBAAa,KAAb;AACH,KAFD,EAEG,EAFH,CAEM,KAFN,EAEa,YAAY;AACrB,YAAI,IAAJ,GAAW,SAAX;AACA,eAAO,cAAP,CAAsB,GAAtB,EAA2B,GAA3B;AACH,KALD;AAMH,CATK,EASH,MATG,CASI,OAAO,QATX,EASqB,OAAO,IAT5B,EASkC,YAAY;AAChD,YAAQ,GAAR,CAAY,wCAAwC,OAAO,IAA/C,GAAsD,GAAtD,GAA4D,OAAO,QAAnE,GAA8E,GAA1F;AACH,CAXK,CAAV;;AAaA;;;AAGA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,KAAK,YAAL,CAAkB,UAAU,GAAV,EAAe,GAAf,EAAoB;AAClC,QAAI,SAAJ,CAAc,GAAd,EAAmB,EAAE,YAAY,aAAa,IAAI,OAAJ,CAAY,IAAzB,GAAgC,IAAI,GAAlD,EAAnB;AACA,QAAI,GAAJ;AACH,CAHD,EAGG,MAHH,CAGU,OAAO,WAHjB,EAG8B,OAAO,IAHrC","file":"http1.js","sourcesContent":["\n'use strict';\nvar https = require('https'),\n    fs = require('fs'),\n    config = require('./config'),\n    server = require('./server');\n\nvar options = config.certificate;\n\nvar app = https.createServer(options, function (req, res) {\n        var _postData = '';\n        //on用于添加一个监听函数到一个特定的事件\n        req.on('data', function (chunk) {\n            _postData += chunk;\n        }).on('end', function () {\n            req.post = _postData;\n            server.handlerRequest(req, res);\n        });\n    }).listen(config.port_ssl, config.host, function () {\n        console.log('http/1.1 Server running at https://' + config.host + ':' + config.port_ssl + '/');\n    });\n\n/*\n * http 方式的 redirect\n */\nvar http = require('http');\nhttp.createServer(function (req, res) {\n    res.writeHead(301, { \"Location\": \"https://\" + req.headers.host + req.url });\n    res.end();\n}).listen(config.port_normal, config.host);"],"sourceRoot":"/source/"}